---
title: "Chronic Kidney Disease"
subtitle: "Group 4 Project"
author: "M. Vojtková, M. Hizanu, B. Zimoń, S. Rodopoulos"
output: 
  ioslides_presentation:
    widescreen: true
    smaller: true
    logo: images/logo.png
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
install.packages("png")
library(png)
```

## Introduction

-   **Chronic kidney disease** (**CKD**) is a type of kidney disease in which there is gradual loss of kidney function over a period of months to years

-   The main risk factors for developing kidney disease are diabetes, high blood pressure, heart disease, and a family history of kidney failure

-   The two key markers for CKD are urine albumin and eGFR (based on measuring the stable serum creatinine levels)

## Materials and Methods

1.  Cleaning and augmenting
2.  Data exploration
3.  Data analysis - *PCA*
4.  Modelling - *Linear regression and K-nearest neighbors*

## Materials and Methods \| **The Dataset**

-   The data-set was obtained from **UCI Machine Learning Depository**
-   **400 observations of 25 attributes**:
    -   [numerical (15):]{.underline} albumin, blood urea, <br/>serum creatinine, hemoglobin, <br/> packed cell volume, and others

    -   [categorical (10):]{.underline} class, anemia, <br/> diabetes melitus and others.

<div style= "float:right;position: relative; top: -170px;">

![](../figures/distributions/age_distribution.png){width="521" height="317"}

## Data loading, cleaning and augmentation

1.  [**Loading**]{.underline}**:** Artificially splitting the dataset in **2 groups:** Healthy patients and patients with CKD and then joining
2.  [**Cleaning:**]{.underline}

::: centered
![](images/missing_values.png){width="600"}
:::

------------------------------------------------------------------------

![](images/cleaning_plot-02.png){width="700"}

-   **Raw data:** 62% patients with CKD, 38% Healthy

-   **Cleaned data**: 42% patients with CKD, 52% Healthy

    **3. [Augmenting:]{.underline}** Creating new variables *Age_group, Disease_no, Disease_type*

## Results and Discussion \| **Data exploration**

::: centered
![](images/cor_heatmap.png){width="780"}
:::

## Data Visualisation \| **Hemoglobin and Packed Cell Volume relationship**

-   Clear separation between classes: sick and healthy patients

-   Low hemoglobin (and lower PCV) are related to anemia, common CKD complication

::: centered
![](images/hemo_pcv_relationship.png){width="600"}
:::

## Data Visualisation \| **Hemoglobin and Serum Albumin relationship**

-   Albumin = number of positive tests for albumin [in the urine]{.underline} (discrete)

-   Excess albumin in the urine ([low serum albumin]{.underline}) is an indicator of kidney failure

::: centered
![](images/hemo_albumin_relat-01.png){width="600"}
:::

## Data Visualisation \| **Serum Creatinine and Blood Urea relationship**

-   Most common markers for assessing renal function: [the glomerular filtration rate]{.underline} (rapid decline of GFR associated with CKD)

::: centered
![](images/creatinine_urea_relationship.png){width="600"}
:::

## Principal component analysis

::: centered
![](images/var_pca_plot-01.png){width="800"}
:::

## Principal component analysis

::: centered
![](images/pca_plot-01.png){width="800"}
:::

## Modelling \| Linear regression - all redictors

![](images/roc_lin_reg1.png){width="500"} ![](images/lin_reg1_confusion_matrix_normalized.png){width="400"}

## Modelling \| Linear regression - Hemoglobin and PCV

![](images/roc_lin_reg2.png){width="500"} ![](images/lin_reg2_confusion_matrix_normalized.png){width="400"}

## Modelling \| K-Nearest Neighbors

![](images/roc_knn-01.png){width="500"}

![](images/knn_confusion_matrix_normalized.png){width="400"}

## Modelling \| Model metrics summary

::: centered
![](images/metrics_summary.png){width="700"}
:::

## Modelling \| ROC - All models

::: centered
![](images/roc_all-01.png){width="700"}
:::

## Conclusion

-   Linear regression with hemoglobin and PCV - highest specificity and sensitivity

-   Prediction of CKD based only on 2 attributes
